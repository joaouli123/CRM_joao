âŒ PROBLEMAS A SEREM RESOLVIDOS
1. HistÃ³rico de mensagens nÃ£o Ã© exibido

Mesmo apÃ³s clicar em um contato:

    Nenhuma mensagem anterior aparece.

    A interface exibe apenas a mensagem: Conversa iniciada â€“ As mensagens desta conversa aparecerÃ£o aqui.

    O envio de novas mensagens Ã© registrado no console, mas nada aparece visualmente no chat.

ğŸ”§ AÃ§Ã£o esperada:

    Ao clicar num contato, buscar o histÃ³rico completo das mensagens.

    Exibir essas mensagens no painel direito do chat.

    Atualizar a interface com novas mensagens em tempo real via WebSocket.

2. Mensagens enviadas nÃ£o aparecem no chat

As mensagens sÃ£o enviadas via:

socket.emit("send_message", {
  to: "55XXXXXXXXXXX",
  message: "OlÃ¡"
});

O console mostra:

Enviando mensagem: { to: "...", message: "..." }

PorÃ©m:

    Nenhuma mensagem aparece na interface.

    NÃ£o hÃ¡ escuta dos eventos de retorno (message, message_sent, etc).

ğŸ”§ AÃ§Ã£o esperada:

    Escutar e renderizar a resposta ao envio de mensagem com o evento certo.

    Exemplo esperado:

socket.on("message", (data) => {
  // exibir a nova mensagem no chat
});

3. Carregamento incompleto de contatos

    Apenas 12 contatos sÃ£o carregados inicialmente.

    O botÃ£o "Carregar mais" carrega apenas mais 4 contatos (mesmo com mais de 60 existentes).

ğŸ”§ CorreÃ§Ã£o esperada:

    Implementar paginaÃ§Ã£o com carregamento de 8 em 8 contatos.

    Continuar carregando atÃ© que todos os contatos do backend sejam listados.

4. Busca nÃ£o funciona globalmente

O campo de pesquisa sÃ³ filtra os contatos jÃ¡ carregados na interface.

ğŸ”§ Comportamento esperado:

    A busca deve ser feita em todos os contatos da base, mesmo os que ainda nÃ£o foram carregados na tela.

    A busca pode ser feita via backend (com debounce) usando nome ou telefone.

âš™ï¸ VERIFICAÃ‡Ã•ES TÃ‰CNICAS (Baseado nos documentos oficiais)
âœ… Verificar se as variÃ¡veis de ambiente obrigatÃ³rias estÃ£o configuradas corretamente:

# WebSocket
WEBSOCKET_ENABLED=true
WEBSOCKET_GLOBAL_EVENTS=true

# Armazenamento temporÃ¡rio (essencial para histÃ³rico funcionar)
STORE_MESSAGES=true
STORE_CONTACTS=true
STORE_CHATS=true

# Banco de dados (MongoDB)
DATABASE_ENABLED=true
DATABASE_CONNECTION_URI=mongodb+srv://usuario:senha@cluster.mongodb.net/meubanco
DATABASE_SAVE_DATA_NEW_MESSAGE=true
DATABASE_SAVE_DATA_CONTACTS=true
DATABASE_SAVE_DATA_CHATS=true

    Sem essas variÃ¡veis, o backend nÃ£o armazena mensagens e o frontend nÃ£o consegue exibir histÃ³rico.

âœ… Certificar que o frontend esteja escutando os eventos corretos do WebSocket

Segundo a documentaÃ§Ã£o, os eventos do socket.io devem ser escutados assim:

const socket = io('wss://api.seusite.com/nome_instancia', {
  transports: ['websocket'],
});

socket.on('connect', () => {
  console.log('Conectado');
});

socket.on('message', (data) => {
  console.log('Mensagem recebida:', data);
  // Atualizar interface
});

socket.on('history', (data) => {
  console.log('HistÃ³rico:', data);
  // Exibir histÃ³rico
});

    Se nÃ£o escutarmos esses eventos corretamente, o histÃ³rico e mensagens nunca aparecerÃ£o.

ğŸ›  SugestÃ£o de depuraÃ§Ã£o extra

Adicionar temporariamente:

socket.onAny((event, data) => {
  console.log("ğŸ›° Evento recebido:", event, data);
});

Para descobrir todos os eventos que o backend estÃ¡ emitindo, caso o nome dos eventos como "message" ou "history" esteja incorreto ou personalizado.
âœ… OBJETIVO FINAL
Item	O que precisa funcionar	Status atual
1ï¸âƒ£	Mostrar histÃ³rico da conversa ao clicar no contato	âŒ NÃ£o aparece nada
2ï¸âƒ£	Exibir mensagens enviadas e recebidas no chat	âŒ Mensagens nÃ£o aparecem
3ï¸âƒ£	Carregar todos os contatos paginando de 8 em 8	âŒ SÃ³ 16 no mÃ¡ximo
4ï¸âƒ£	Fazer busca global por nome/nÃºmero	âŒ Busca limitada ao frontend
5ï¸âƒ£	WebSocket escutando os eventos corretos	âŒ Provavelmente incompleto